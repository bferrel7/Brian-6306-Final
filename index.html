<!DOCTYPE html>
<html lang="en">
<head>
<style>
h4 {
  color:white;
  }
</style>
  
  
  
  <!-- Basic Page Needs–– -->
  <meta charset="utf-8">
  <title>MoD Assignment 2</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT -->
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">

  <!-- CSS -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/customize.css">
  <script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet' />
  <style>
  #map_1,#map_2, #map_2_5, #map_3 {
    height: 500px;
  }
    hr.line1{
        border: solid rgb(255, 255, 255); 
              }
  svg text{
    fill:white;
    text-anchor:middle;
   font-size:18px;
  }
  svg .values text{
    pointer-events:none;
    stroke-width: 0.5px;
  }
  .groups:hover{
    cursor:pointer;
    font-weight:bold;
  }  
    
    
 
  </style>

  <!-- D3 -->
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="http://vizjs.org/viz.v1.1.0.min.js"></script>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>
<body style="background-color:rgba(0, 128, 255, .95)">

  <div class="container one-bottom" style="margin-top: 50px">
    <div class="ten columns">
      <h2 style="color:white">Hubway to Blue Bikes</h2>
      <h5 style="color:white">What was the impact of fleet and station expansion, new partnership, and re-branding on Boston's bike-share system?</h5>
      <p style="color:white">
        ARCH 6306/6050, DSBA 6010, ITIS 8010/6010: Wednesdays 6pm-8:30pm, Taught Online
        <br>
        Anibal Robles | Brian Ferrell | Coral Rembert | Ryan Carriere |  
        Boston Blue Bikes | https://www.bluebikes.com/
      </p>
      <hr class="line1" width="100%">
    </div>
    <div class="two columns">
      <a href="https://www.bluebikes.com/" target="blank"><img class="scale-with-grid"
        src="img/bluebikes.jpg" height = "150" width = "300" style="float:right;"></a>
    </div>
    <div class="twelve columns">
      <h3 style="color:white">Introduction</h3>
    </div>
    <div class="row">
      <img class="four columns scale-with-grid quarter-bottom-rel" src="img/hubway station.jpg">
      <img class="four columns scale-with-grid quarter-bottom-rel" src="img/hubway.jpg">
      <img class="four columns scale-with-grid quarter-bottom-rel" src="img/people on hubway.jpg">
    </div>
    <div class="twelve columns">
      <h4 style="color:white">Hubway</h4>
      <p style="color:white">The Bostonbikes program was founded in 2007, and the Metropolitan Area Planning Council joined due to the need for the service to span town boundaries. Brookline, Cambridge, and Somerville joined Boston to bring the service to their communities as well. Hubway began as a bike share platform that was launched in 2011 with 600 bicycles and 60 stations. Brookline, Cambridge, and Somerville launched stations in 2012, and Hubway rides continued to grow exponentially. By 2014, Hubway had around 10,00 annual memberships and had sold 79,000 Day Passes, 9,000 3-Day Passes, and 2,000 Monthly Memberships in the previous year. From 2015 to 2016, Hubway expanded to more neighborhoods in Boston and Cambridge. Before Hubway’s rebranding to Bluebikes, the system had expanded to include 185 stations with 600 bicycles.
</p>
    </div>
  </div>
  <div class="container one-bottom" >
    <div class="twelve columns">
      <h3 style="color:white">Expansion and Transformation</h3>
      <h4 style="color:white">How?</h4>
      <p style="color:white">In 2017, Blue Cross Blue Shield of Massachusetts sponsored the bike share system and changed the name to BlueBikes. The expansion was set to bring the number of bikes to 3000 and increase the number of stations by 100.</p>
      <p style="color:white">Our Research is focusing on the transition from Hubway to BlueBikes and the expansion of the system into the surrounding areas of Boston. When the service was expanded, more residential areas gained access to stations, which provided more residents access to the service as a first-mile solution in their commute. We are analyzing trip data from 2017 before the expansion/ transition to BlueBikes and comparing data from 2019 after the expansion.This project investigates the strategies that the service is using in its expansion and the characteristics of the neighborhoods that the expansion affects.</p>
      <h5 style="color:white">Feature Changes</h5>
      <h6 style="color:white"> Fig. 1 </h6>
      <img class="container one-bottom" src="img/hubway to bluebikes diagram.svg" style="float:center;">
    </div>
  </div>

  <div class="container one-bottom" >
    <div class="twelve columns">
      <h5 style="color:white">Hubway Stations<h5>
      <h6 style="color:white"> Fig. 2 </h6>                   
      <p style="color:white">
        Hubway station locations in the Boston, Cambridge, Brookline, and Somerville areas as of 2017. Pre-expansion.
      </p>
                         
    </div>
  </div>

  <!--<div id="map_1" class="one-bottom"></div>-->
  <div id="map_2" class="one-bottom"></div>

  <div class="container one-bottom" >
    <div class="twelve columns">
      <h5 style="color:white">Areas of Expansion</h5>
      <h6 style="color:white">Fig. 3 </h6>                         
      <p style="color:white">
        Expanded station locations in the Everett, Mattapan, Roslindale, and Dorchester areas.
      </p>
    </div>
  </div>

<!--  <div id="map_3" class="one-bottom"></div>-->
<div id="map_2_5" class="one-bottom"></div>

  <div class="container one-bottom" >
    <div class="twelve columns">
      <h5 style="color:white">Blue Bike Stations</h5>
      <h6 style="color:white">Fig. 4 </h6>                         
      <p style="color:white">
        Current Blue Bike station locations in the Boston, Cambridge, Brookline, Somerville, Everett, Mattapan, Roslindale, and Dorchester areas. Post-expansion.
      </p>
    </div>
  </div>



  <div id="map_3" class="one-bottom"></div>
                                                                     
  <div class="container one-bottom" >
    <div class="twelve columns">
      <h4 style="color:white">Why?</h4>
      <p style="color:white">In 2019, Blue Cross Blue Shield of Massachusetts joined Hubway and Boston’s bike sharing system was rebranded to BlueBikes. BlueBikes remains a public transportation system that is owned by the municipalities of Boston, Cambridge, Brookline, and Somerville and operated by Motivate. The partnership allowed for the service to be expanded to more neighborhoods within these municipalities. Through this partnership, Blue Cross Blue Shield promotes healthier living and increasing equity and accessibility to active transportation. Through investment into infrastructure and MoD systems such as BlueBikes, Boston and it’s surrounding municipalities have integrated active forms of transportation with their public systems. 
 </p>
    </div>  
    <div class="twelve columns">
      <h5 style="color:white">Areas Affected</h5>
      <h6 style="color:white">Fig. 5</h6>
      <img class="container one-bottom" src="img/Affected Areas 3.jpg" style="float:center;">
      <h6 style="color:white">Fig. 6</h6>
      <img class="container one-bottom" src="img/station boundaries.jpg" style="float:center;">
      <h5 style="color:white">Area Attributes</h5>
      <h6 style="color:white">Fig. 7</h6>
      <img class="container one-bottom" src="img/Bike lanes 111.jpg" style="float:center;">
    </div>
  </div>

  <div class="container one-bottom" >
    <div class="twelve columns">
      <h3 style="color:white">Impact</h3>
    </div>
    <div class="row">
      <img class="four columns scale-with-grid quarter-bottom-rel" src="img/blue bikes station.jfif">
      <img class="four columns scale-with-grid quarter-bottom-rel" src="img/peoplle on blue bikes.jpg">
      <img class="four columns scale-with-grid quarter-bottom-rel" src="img/blue bikes key.jpg">
    </div>
    <div class="twelve columns">
      <h4 style="color:white">Blue Bikes Today</h4>
      <p style="color:white">Boston Blue Bike is a conventional bike sharing system in which riders unlock the vehicles through an app at stations - otherwise known as kiosks - and can return the bikes at any station when the trip is done. The Blue Bikes stations serve every line of the T, the commuter rail and ferry, and more than 60 bus routes to accomodate multi-modal trips. Five municipalities own Blue Bikes and San Fransisco based Lyft operates the bike share while Blue Cross Blue Shield of Massachusetts has a sponsorship.</p>
      <p style="color:white">Blue Bikes now has +3,500 bikes and 325 stations.</p>
    </div>
  </div>
  <div class="container one-bottom" >
    <div class="twelve columns">
      <h5 style="color:white">Membership Growth</h5>
      <img class="container one-bottom" src="img/annualmembers.JPG" style="float:center;">
      <h5 style="color:white">Ridership Growth</h5>
      <img class="container one-bottom" src="img/casualtrips.JPG" style="float:center;">
      <h5 style="color:white">Usage of BlueBikes</h5>
      <img class="container one-bottom" src="img/stackedbar.JPG" style="float:center;">
    </div>
  </div>

   
  <div class="container one-bottom" >
    <div class="twelve columns" >
      <h3 style="color:white">Conclusion</h3>
      <p style="color:white">Boston’s transition from Hubway to BlueBikes has brought expanded transportation options to multiple new neighborhoods in the surrounding areas. When Hubway began the system, the goal was to provide a mostly short-term service to serve tourists and visitors to Boston. With the subsequent expansions, the service expanded into more residential areas to give local citizens more access to the service as a long term membership, providing options like income eligible membership pricing. This resulted in higher levels of long-term membership among residents. Overall, the system saw increases in total trips vs miles traveled and the total number of trips per year.
</p>
    </div>
  </div>                                 

  <div class="container one-bottom" >
    <h4 style="color:white">Team & Contributions</h4>
    <h5 style="color:white">Ryan Carriere</h5>
    <p style="color:white">Ryan Carriere contributed to creating the graphs in the Blue Bikes today section. Also helped with coding.</p>
    <h5 style="color:white">Coral Rembert</h5>
    <p style="color:white">Coral Rembert contributed to creating the Github page, finding data and figuring out what data to represent, research question, page layout and narrative organization, impact section verbage, and adding pictures.</p>
    <h5 style="color:white">Anibal Robles</h5>
    <p style="color:white">Anibal Robles contributed to creating the interactive graphs, implementing the multiple csv files for getting data, and implementing the chord graph.</p>
    <h5 style="color:white">Brian Ferrell</h5>
    <p style="color:white">Brian Ferrell contributed to creating diagrams with Boston and BlueBikes data using GIS programs, webpage layout, research, presentation, and introduction. </p>
  </div>
  
  <div class="twelve columns">
    <h4 style="color:white">Chord Graph for 2017 trip data.</h4>
  </div>
  <div id="chordGraph" class="one-bottom"></div>
  <p id="demo"></p>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>D3 in Action Arc Diagram</title>
  <meta charset="utf-8" />
</head>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="http://d3js.org/queue.v1.min.js" type="text/javascript"></script>
<style>
.tick line {
  shape-rendering: crispEdges;
  stroke: #000;
}

line.minor  {
  stroke: #777;
  stroke-dasharray: 2,2;
}

path.domain {
  fill: none;
  stroke: black;
}

</style>
<body onload="arcDiagram()">

<div id="vizcontainer">
<svg style="width:500px;height:500px;border:1px lightgray solid;" />
</div>
  <footer>
<script>
  function arcDiagram() {
    queue()
    .defer(d3.csv, "nodelist.csv")
    .defer(d3.csv, "edgelist.csv")
    .await(function(error, file1, file2) { createArcDiagram(file1, file2); });
    function createArcDiagram(nodes,edges) {
      
      expEdges = edges;
      expNodes = nodes;
      
      var nodeHash = {};
      for (x in nodes) {
        nodeHash[nodes[x].id] = nodes[x];
        nodes[x].x = parseInt(x) * 50;
      }
      for (x in edges) {
        edges[x].weight = parseInt(edges[x].weight);
        edges[x].source = nodeHash[edges[x].source];
        edges[x].target = nodeHash[edges[x].target];
      }
      
      linkScale = d3.scale.linear().domain(d3.extent(edges, function (d) {return d.weight})).range([5,10])
      
      var arcG = d3.select("svg").append("g").attr("id", "arcG").attr("transform", "translate(50,250)");

      arcG.selectAll("path")
      .data(edges)
      .enter()
      .append("path")
      .style("stroke", "none")
      .style("opacity", .25)
      .style("fill", "black")
      .attr("d", shapedEdge)
      .on("mouseover", edgeOver)
      
      arcG.selectAll("circle")
      .data(nodes)
      .enter()
      .append("circle")
      .attr("r", 10)
      .style("fill", "lightgray")
      .style("stroke", "black")
      .style("stroke-width", "1px")
      .attr("cx", function (d) {return d.x})
      .on("mouseover", nodeOver)

      function shapedEdge(d,i) {
        var draw = d3.svg.line().interpolate("basis");
        var sw = linkScale(d.weight)
        var midX = (d.source.x + d.target.x) / 2;
        var midY = d.source.x - d.target.x - sw;
        var midY2 = d.source.x - d.target.x + sw;
        return draw([[d.source.x,0],[midX,midY],[d.target.x + (sw*1.5),0],[d.target.x - (sw*1.5),0],[midX,midY2],[d.source.x,0]])
      }
      
      function nodeOver(d,i) {
        d3.selectAll("circle").style("fill", function (p) {return p == d ? "red" : "lightgray"})
        d3.selectAll("path").style("fill", function (p) {return p.source == d || p.target == d ? "red" : "black"})
      }
      
      function edgeOver(d) {
        d3.selectAll("path").style("fill", function(p) {return p == d ? "red" : "black"})
        d3.selectAll("circle").style("fill", function(p) {return p == d.source ? "blue" : p == d.target ? "green" : "lightgray"})}
      
    }
  }
</body>
</html>
